---
import '../../css/HeaderSearch.css'
import PagesLinks from './PagesLinks.astro'
---
<header class="header">
    <div class="left">
      <PagesLinks href="" name="Nishiyuu" />
    </div>
    <div class = "searchblok">
      <input class = "search" id="searchInput" type="text" placeholder="Search..">
    </div>
    <div class="right">
      <PagesLinks href="../" name="Home" />
      <PagesLinks href="./projects" name="Projects" />
    </div>    
    <script type="module">
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.querySelector('.search');
    
        if (!searchInput) {
          console.log("Search input not found");
          return;
        }
    
        const projects = document.querySelectorAll('.project');
    
        searchInput.addEventListener('input', function() {
            filterProjects(searchInput.value.trim().toLowerCase());
        });
    
        searchInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // Щоб не відправляло форму
                filterProjects(searchInput.value.trim().toLowerCase());
            }
        });
    
        function filterProjects(searchTerm) {
            projects.forEach(project => {
                const title = project.querySelector('h3').textContent.toLowerCase();
                const description = project.querySelector('p').textContent.toLowerCase();
                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    project.style.display = 'block';
                } else {
                    project.style.display = 'none';
                }
            });
        }
      });</script>
  </header>
  
